String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Array.prototype.del=function(e){var t=e;if("function"==typeof e)for(var n=0;n<this.length;n++)e(this[n],n)&&(t=n);this.splice(t,1)},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)};var $checkAction={minLength:function(e,t,n){var r=e.trim().length;return n&&(r=$objAction.getStringLength(e)),r>=t},maxLength:function(e,t,n){var r=e.trim().length;return n&&(r=$objAction.getStringLength(e)),r<=t},checkMobilePhone:function(e){return""!=e.trim()&&/^1[34578]\d{9}$/.test(e.trim())},checkEmail:function(e){var t=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;return t.test(e)},checkint:function(e){return e%1===0},checkEmpty:function(e){switch(typeof e){case"undefined":return!0;case"string":if(0==$.trim(e).length)return!0;break;case"boolean":if(!e)return!0;break;case"number":if(0===e)return!0;break;case"object":if(null===e)return!0;if(void 0!==e.length&&0==e.length)return!0;for(var t in e)return!1;return!0}return!1},checkID:function(e){return""!=e.trim()&&/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(e.trim())}},$objAction={removeByValue:function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t){e.splice(n,1);break}},getStringLength:function(e){if(e=e.trim(),""==e)return 0;for(var t=0,n=0;n<e.length;n++)e.charCodeAt(n)>255?t+=2:t++;return t},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},amount:function(e){var t=[["^0(\\d+)$","$1"],["[^\\d\\.]+$",""],["\\.(\\d?)\\.+",".$1"],["^(\\d+\\.\\d{2}).+","$1"]];for(i=0;i<t.length;i++){var n=new RegExp(t[i][0]);e.value=e.value.replace(n,t[i][1])}}},$handleAjax={ajax:function(e){return $.ajax({url:e.url+"&itype=society_index",data:e.data,type:e.type,dataType:e.dataType,beforeSend:function(){e.beforeSendCallBack&&"function"==typeof e.beforeSendCallBack&&e.beforeSendCallBack.call(this)},complete:function(){e.completeCallBack&&"function"==typeof e.completeCallBack&&e.completeCallBack.call(this)}})},handle:function(e){var t={url:"",data:{},type:"POST",dataType:"json",isTip:!0,showIndicator:!0,beforeSendCallBack:null,completeCallBack:null};return e=$.extend({},t,e),"html"==e.dataType?e.data.post_type=null:e.data.post_type="json",this.ajax(e).then(function(t){return e.isTip?1==t.status?t.error||"操作成功":$.Deferred().reject(t.error||"操作失败"):t},function(e){return e||"请求出错！"})}},$sendVerifyCode={is_disabled:!1,code_lefttime:0,code_timeer:null,options:null,send:function(e){var t=this,n={url:APP_ROOT+"/weixin/index.php?ctl=date&act=send_mobile_verify",el:null,mobile:null};return t.options=$.extend({},n,e),!t.is_disabled&&void $handleAjax.handle({url:t.options.url,data:{mobile:t.options.mobile},isTip:!1}).done(function(e){1==e.status?($.toast("验证码已发送"),t.code_lefttime=60,t.leftTimeFun()):$.toast(e.error||"请求出错")}).fail(function(e){$.toast(e)})},leftTimeFun:function(){var e=this,t=e.options,n=document.getElementById(t.el);clearTimeout(t.code_timeer),n.style.color="#999",n.style.backgroundColor="#ccc",n.innerHTML="重新发送 "+e.code_lefttime,e.code_lefttime--,e.code_lefttime>0?(n.setAttribute("disabled","disabled"),e.is_disabled=!0,e.code_timeer=setTimeout(function(){e.leftTimeFun()},1e3)):(e.code_lefttime=60,e.is_disabled=!1,n.removeAttribute("disabled"),n.style.color="#fff",n.style.backgroundColor="#f1383f",n.innerHTML="发送验证码")}};